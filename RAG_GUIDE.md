# ğŸ§  à¸„à¸¹à¹ˆà¸¡à¸·à¸­ RAG (Retrieval-Augmented Generation) à¸ªà¸³à¸«à¸£à¸±à¸š SmartBrain Care

## à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š RAG

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           RAG Pipeline                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   User Query    â”‚â”€â”€â”€â–¶â”‚  Create Query   â”‚â”€â”€â”€â–¶â”‚   Vector Search in     â”‚   â”‚
â”‚  â”‚  "à¸„à¸¥à¸·à¹ˆà¸™ Alpha   â”‚    â”‚   Embedding     â”‚    â”‚   knowledge_base       â”‚   â”‚
â”‚  â”‚   à¸„à¸·à¸­à¸­à¸°à¹„à¸£?"     â”‚    â”‚  (OpenAI API)   â”‚    â”‚   (pgvector)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚                   â”‚
â”‚                                                           â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Retrieved Knowledge                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ“š à¸„à¸¥à¸·à¹ˆà¸™ Alpha (8-13 Hz) à¹€à¸›à¹‡à¸™à¸„à¸¥à¸·à¹ˆà¸™à¸ªà¸¡à¸­à¸‡à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸£à¸²à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    à¸ªà¸ à¸²à¸§à¸°à¸œà¹ˆà¸­à¸™à¸„à¸¥à¸²à¸¢ à¸ªà¸‡à¸š à¹à¸¥à¸°à¸•à¸·à¹ˆà¸™à¸•à¸±à¸§...                                 â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚                   â”‚
â”‚                                                           â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       Enhanced System Prompt                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Base System Prompt + Retrieved Knowledge + User Context           â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚                   â”‚
â”‚                                                           â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   AI Response   â”‚â—€â”€â”€â”€â”‚     GPT-4o      â”‚â—€â”€â”€â”€â”‚  Enhanced Prompt +     â”‚   â”‚
â”‚  â”‚  à¸—à¸µà¹ˆà¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡      â”‚    â”‚     API         â”‚    â”‚  User Message          â”‚   â”‚
â”‚  â”‚  à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸£à¸´à¸‡      â”‚    â”‚                 â”‚    â”‚                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ pgvector à¹ƒà¸™ Supabase

1. à¹„à¸›à¸—à¸µà¹ˆ **Supabase Dashboard** â†’ **SQL Editor**
2. à¸£à¸±à¸™ SQL à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œ `supabase/migrations/002_rag_schema.sql`
3. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰à¸ªà¸³à¹€à¸£à¹‡à¸ˆ:
   - `knowledge_base` - à¸à¸²à¸™à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸à¸£à¹‰à¸­à¸¡ embeddings
   - `chat_context` - à¸šà¸£à¸´à¸šà¸—à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²
   - `user_knowledge` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸‰à¸à¸²à¸°à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: à¸ªà¸£à¹‰à¸²à¸‡ Embeddings à¸ªà¸³à¸«à¸£à¸±à¸š Knowledge Base

à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `RAGService.updateEmbeddings()` à¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡ embeddings à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸—à¸µà¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ:

```dart
// à¹ƒà¸™ Flutter app
final result = await RAGService.updateEmbeddings();
print('Updated ${result['updated_count']} embeddings');
```

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ RAG à¹ƒà¸™à¹à¸Šà¸—

à¹à¸—à¸™à¸—à¸µà¹ˆ `ChatGPTService.sendMessage()` à¸”à¹‰à¸§à¸¢ `ChatGPTService.sendMessageWithRAG()`:

```dart
// Before (à¹„à¸¡à¹ˆà¸¡à¸µ RAG)
final response = await ChatGPTService.sendMessage(
  message: userMessage,
  chatHistory: history,
);

// After (à¸¡à¸µ RAG)
final response = await ChatGPTService.sendMessageWithRAG(
  message: userMessage,
  chatHistory: history,
  userId: currentUserId,  // optional
);

if (response['success']) {
  print('Bot: ${response['bot_response']}');
  print('RAG Used: ${response['rag_used']}');
}
```

---

## ğŸ“Š à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ Database

### à¸•à¸²à¸£à¸²à¸‡ `knowledge_base`

| Column | Type | Description |
|--------|------|-------------|
| id | SERIAL | Primary Key |
| title | VARCHAR(500) | à¸«à¸±à¸§à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰ |
| content | TEXT | à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰ |
| category | VARCHAR(100) | à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ |
| tags | TEXT[] | tags à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¹‰à¸™à¸«à¸² |
| embedding | vector(1536) | OpenAI embedding |
| metadata | JSONB | à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ |

### à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰ (Categories)

| Category | Description | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ |
|----------|-------------|---------|
| `brainwave` | à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸„à¸¥à¸·à¹ˆà¸™à¸ªà¸¡à¸­à¸‡ | Alpha, Beta, Theta, Delta, Gamma |
| `mental_health` | à¸ªà¸¸à¸‚à¸ à¸²à¸à¸ˆà¸´à¸• | à¸„à¸§à¸²à¸¡à¹€à¸„à¸£à¸µà¸¢à¸”, à¸‹à¸¶à¸¡à¹€à¸¨à¸£à¹‰à¸² |
| `meditation` | à¸à¸²à¸£à¸—à¸³à¸ªà¸¡à¸²à¸˜à¸´ | à¹€à¸—à¸„à¸™à¸´à¸„à¸ªà¸¡à¸²à¸˜à¸´, Body Scan |
| `sleep` | à¸à¸²à¸£à¸™à¸­à¸™à¸«à¸¥à¸±à¸š | Sleep hygiene, Sleep stages |
| `device` | à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ EEG | Muse S, Muse 2 |
| `general` | à¸—à¸±à¹ˆà¸§à¹„à¸› | à¸­à¸·à¹ˆà¸™à¹† |

---

## ğŸ” API Reference

### RAGService

```dart
// à¸„à¹‰à¸™à¸«à¸²à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰
List<Map> results = await RAGService.searchKnowledge(
  'à¸„à¸¥à¸·à¹ˆà¸™ Alpha',
  maxResults: 5,
  threshold: 0.7,
  category: 'brainwave',
);

// à¸ªà¸£à¹‰à¸²à¸‡ context
String context = RAGService.buildContext(results);

// à¸ªà¸£à¹‰à¸²à¸‡ user context
String userContext = await RAGService.buildUserContext(userId);

// à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¹ƒà¸«à¸¡à¹ˆ
await RAGService.addKnowledge(
  title: 'à¹€à¸—à¸„à¸™à¸´à¸„à¸«à¸²à¸¢à¹ƒà¸ˆ 4-7-8',
  content: 'à¸«à¸²à¸¢à¹ƒà¸ˆà¹€à¸‚à¹‰à¸² 4 à¸§à¸´à¸™à¸²à¸—à¸µ à¸à¸¥à¸±à¹‰à¸™ 7 à¸§à¸´à¸™à¸²à¸—à¸µ...',
  category: 'meditation',
  tags: ['breathing', 'relaxation'],
);

// à¸­à¸±à¸›à¹€à¸”à¸• embeddings
await RAGService.updateEmbeddings();
```

### ChatGPTService (with RAG)

```dart
// à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² User ID
ChatGPTService.setUserId(userId);

// à¹€à¸›à¸´à¸”/à¸›à¸´à¸” RAG
ChatGPTService.toggleRAG(true);

// à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸£à¹‰à¸­à¸¡ RAG
final response = await ChatGPTService.sendMessageWithRAG(
  message: 'à¸„à¸¥à¸·à¹ˆà¸™ Alpha à¸„à¸·à¸­à¸­à¸°à¹„à¸£?',
  chatHistory: history,
);

// à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸¥à¸·à¹ˆà¸™à¸ªà¸¡à¸­à¸‡
final response = await ChatGPTService.sendMessageWithBrainwaveContext(
  message: 'à¸‰à¸±à¸™à¸„à¸§à¸£à¸—à¸³à¸­à¸°à¹„à¸£?',
  brainwaveData: {
    'alpha': 35.0,
    'beta': 25.0,
    'theta': 20.0,
    'delta': 15.0,
    'gamma': 5.0,
    'attention': 65.0,
    'meditation': 72.0,
  },
);
```

---

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ

```
lib/services/
â”œâ”€â”€ rag_service.dart          # RAG Service à¸«à¸¥à¸±à¸
â”œâ”€â”€ chatgpt_service.dart      # ChatGPT + RAG integration
â””â”€â”€ supabase_service.dart     # Supabase connection

supabase/migrations/
â”œâ”€â”€ 001_initial_schema.sql    # Schema à¸à¸·à¹‰à¸™à¸à¸²à¸™
â””â”€â”€ 002_rag_schema.sql        # RAG Schema + pgvector
```

---

## ğŸ¯ à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### 1. Basic RAG Chat

```dart
class ChatScreen extends StatefulWidget {
  @override
  _ChatScreenState createState() => _ChatScreenState();
}

class _ChatScreenState extends State<ChatScreen> {
  final List<Map<String, dynamic>> _messages = [];
  
  Future<void> _sendMessage(String text) async {
    // Add user message
    setState(() {
      _messages.add({'message': text, 'is_bot': false});
    });
    
    // Get AI response with RAG
    final response = await ChatGPTService.sendMessageWithRAG(
      message: text,
      chatHistory: _messages,
    );
    
    if (response['success']) {
      setState(() {
        _messages.add({
          'message': response['bot_response'],
          'is_bot': true,
        });
      });
      
      // Log RAG usage
      if (response['rag_used']) {
        print('ğŸ“š Used knowledge IDs: ${response['retrieved_knowledge_ids']}');
      }
    }
  }
}
```

### 2. Personalized Recommendations

```dart
// à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸¥à¸·à¹ˆà¸™à¸ªà¸¡à¸­à¸‡à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
final brainwaveData = {
  'alpha': museService.alphaWave,
  'beta': museService.betaWave,
  'theta': museService.thetaWave,
  'delta': museService.deltaWave,
  'gamma': museService.gammaWave,
  'attention': museService.attention.toDouble(),
  'meditation': museService.meditation.toDouble(),
};

// à¸‚à¸­à¸„à¸³à¹à¸™à¸°à¸™à¸³
final response = await ChatGPTService.sendMessageWithBrainwaveContext(
  message: 'à¸Šà¹ˆà¸§à¸¢à¹à¸™à¸°à¸™à¸³à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¹ƒà¸«à¹‰à¸«à¸™à¹ˆà¸­à¸¢',
  brainwaveData: brainwaveData,
);
```

---

## â“ à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²

### à¸›à¸±à¸à¸«à¸²: "extension vector does not exist"
**à¹à¸à¹‰à¹„à¸‚**: à¸£à¸±à¸™ `CREATE EXTENSION IF NOT EXISTS vector;` à¹ƒà¸™ SQL Editor

### à¸›à¸±à¸à¸«à¸²: Embeddings à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡
**à¹à¸à¹‰à¹„à¸‚**: 
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š OpenAI API Key
- à¹€à¸£à¸µà¸¢à¸ `RAGService.updateEmbeddings()`

### à¸›à¸±à¸à¸«à¸²: à¸„à¹‰à¸™à¸«à¸²à¹„à¸¡à¹ˆà¹€à¸ˆà¸­à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰
**à¹à¸à¹‰à¹„à¸‚**:
- à¸¥à¸” threshold: `threshold: 0.5`
- à¹€à¸à¸´à¹ˆà¸¡ max results: `maxResults: 10`
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µ embeddings à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡

### à¸›à¸±à¸à¸«à¸²: Response à¸Šà¹‰à¸²
**à¹à¸à¹‰à¹„à¸‚**:
- à¸¥à¸” `maxResults` à¹ƒà¸«à¹‰à¸™à¹‰à¸­à¸¢à¸¥à¸‡
- à¸›à¸´à¸” RAG à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§: `ChatGPTService.toggleRAG(false)`

---

## ğŸ‰ à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸‚à¸­à¸‡ RAG

1. âœ… **à¸„à¸³à¸•à¸­à¸šà¹à¸¡à¹ˆà¸™à¸¢à¸³à¸‚à¸¶à¹‰à¸™** - à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡à¸ˆà¸²à¸à¸à¸²à¸™à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ˆà¸£à¸´à¸‡
2. âœ… **à¸¥à¸” Hallucination** - AI à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡ à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹à¸•à¹ˆà¸‡à¹€à¸­à¸‡
3. âœ… **Personalized** - à¸›à¸£à¸±à¸šà¸•à¸²à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
4. âœ… **à¸­à¸±à¸›à¹€à¸”à¸•à¹„à¸”à¹‰** - à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¹ƒà¸«à¸¡à¹ˆà¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ retrain model
5. âœ… **à¸›à¸£à¸°à¸«à¸¢à¸±à¸”** - à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ fine-tune à¹‚à¸¡à¹€à¸”à¸¥
